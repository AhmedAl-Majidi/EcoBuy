<div class="container mt-4">
  <div class="card shadow">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h2 class="mb-0">My Cart</h2>
      <button
        class="btn-close"
        aria-label="Close"
        (click)="closeCart()"
      ></button>
    </div>
  
    <div class="card-body">
      @if(!cartData.products.length){
        <div class="text-center">No items yet!</div>
      }
      @else{
      <table class="table">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Image</th>
            <th scope="col">Name</th>
            <th scope="col">Price</th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of cartData.products; let i = index ">
            <th scope="row">{{i + 1}}</th> <!-- serial -->
            <td><img
              src="{{ product.images[0] }}"
              alt="{{ product.title }}"
              class="product-image img-fluid me-3"
            /></td>
            <td>{{ product.title }}</td>
            <td>{{ product.price | currency: 'USD' }}</td>
            <td>
            <i (click)="removeCartItem(product.id)" class="fa fa-trash deleteBtn" aria-hidden="true"></i>
          </td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="3">Total:</td>
            <td><strong>{{cartData.totalPrice | currency: 'USD'}}</strong></td>
            <td></td>
          </tr>
        </tfoot>
      </table>
    }
    </div>
    <div class="card-footer d-flex justify-content-center">
      <button
        type="button"
        class="btn btn-secondary me-3 w-50"
        (click)="closeCart()"
      >
        Back
      </button>
      <button
        type="button"
        class="btn btn-secondary w-50"
        (click)="handleCheckout()"
      >
        Checkout
      </button>
    </div>
  </div>
</div>